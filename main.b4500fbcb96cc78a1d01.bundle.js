(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1043:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(258);var _storybook_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(386),req=__webpack_require__(1483);Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_1__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(597)(module))},139:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(1633),__webpack_require__(379),__webpack_require__(380),__webpack_require__(1636);var cachedParseMarkup,slicedToArray=__webpack_require__(390),LocalizationProvider=(__webpack_require__(258),__webpack_require__(1670),__webpack_require__(389));__webpack_require__(904),__webpack_require__(1684);var components_Localizedvue_type_script_lang_js_={name:"Localized",props:{id:{type:String,required:!0},attrs:{type:Object,default:null},props:{type:Object,default:null}},inject:{l10n:LocalizationProvider.b},render:function render($createElement){var slots=this.$scopedSlots.default({});if(1!==slots.length)throw new Error("<Localized/> expected to receive a single slot");var elem=slots[0];if(void 0===elem.tag)throw new Error("<Localized/> expected to receive a single node element");var tag=elem.componentOptions?elem.componentOptions.Ctor:elem.tag,bundle=this.l10n.getBundle(this.id);if(null===bundle)return elem;var msg=bundle.getMessage(this.id),args=function toArguments(props){for(var args={},_i=0,_Object$entries=Object.entries(props);_i<_Object$entries.length;_i++){var _Object$entries$_i=Object(slicedToArray.a)(_Object$entries[_i],2),propname=_Object$entries$_i[0],propval=_Object$entries$_i[1];propname.startsWith("_")&&(args[propname.substr(1)]=propval)}return args}(this.$attrs),elems={};if(void 0!==elem.children){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=elem.children.filter(function(_ref){var data=_ref.data;return data&&data.attrs&&data.attrs.l10n})[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var child=_step.value;elems[child.data.attrs.l10n]=child}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}var data=elem.data||{};if(msg.attrs){if(this.attrs){void 0===data.attrs&&(data.attrs={});for(var _i2=0,_Object$entries2=Object.entries(this.attrs);_i2<_Object$entries2.length;_i2++){var _Object$entries2$_i=Object(slicedToArray.a)(_Object$entries2[_i2],2),name=_Object$entries2$_i[0];_Object$entries2$_i[1]&&msg.attrs.hasOwnProperty(name)&&(data.attrs[name]=bundle.format(msg.attrs[name],args))}}if(this.props){void 0===data.props&&(data.props={});for(var _i3=0,_Object$entries3=Object.entries(this.props);_i3<_Object$entries3.length;_i3++){var _Object$entries3$_i=Object(slicedToArray.a)(_Object$entries3[_i3],2);name=_Object$entries3$_i[0];_Object$entries3$_i[1]&&msg.attrs.hasOwnProperty(name)&&(data.props[name]=bundle.format(msg.attrs[name],args))}}}var messageValue=bundle.format(msg,args);if(void 0!==elem.children&&0===elem.children.filter(function(child){return void 0!==child.tag}).length)return $createElement(tag,data,[messageValue]);var translatedChildren=function createParseMarkup(){if(void 0===document)throw new Error('\n      document" is undefined. Without it, translations cannot\n      be safely sanitized. Consult the documentation at\n      https://github.com/projectfluent/fluent.js/wiki/React-Overlays.\n    ');if(!cachedParseMarkup){var template=document.createElement("template");cachedParseMarkup=function parseMarkup(str){return template.innerHTML=str,Array.from(template.content.childNodes)}}return cachedParseMarkup}()(messageValue).map(function(childNode){if(childNode.nodeType===childNode.TEXT_NODE)return childNode.textContent;if(!childNode.attributes||!childNode.attributes.hasOwnProperty("l10n")||!elems[childNode.attributes.getNamedItem("l10n").value])return childNode.textContent;var sourceChild=elems[childNode.attributes.getNamedItem("l10n").value];return $createElement(sourceChild.tag,sourceChild.data,childNode.textContent)});return $createElement(tag,data,translatedChildren)}},componentNormalizer=__webpack_require__(388),component=Object(componentNormalizer.a)(components_Localizedvue_type_script_lang_js_,void 0,void 0,!1,null,null,null);__webpack_exports__.a=component.exports},1483:function(module,exports,__webpack_require__){var map={"./index.stories.js":1484};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1483},1484:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",function(){return withStorySource}),__webpack_require__.d(__webpack_exports__,"__STORY__",function(){return __STORY__}),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",function(){return __ADDS_MAP__});var _storybook_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(386),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(560),_storybook_addon_contexts_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(914),_src_components_Localized_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(139),_config_contexts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(924),_SmallCaps__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(561),withStorySource=__webpack_require__(1485).withStorySource,__STORY__="import { storiesOf } from '@storybook/vue';\nimport { withKnobs, text } from '@storybook/addon-knobs';\nimport { withContexts } from '@storybook/addon-contexts/vue';\nimport Localized from '../src/components/Localized.vue';\nimport { contexts } from './config/contexts';\nimport SmallCaps from './SmallCaps';\n\nstoriesOf('Fluent', module)\n  .addDecorator(withKnobs)\n  .addDecorator(withContexts(contexts))\n  .add('simple text', () => ({\n    components: { Localized },\n    template: `\n      <Localized id=\"title\">\n        <h1>Hello, world!</h1>\n      </Localized>`,\n  }))\n  .add('html attribute', () => ({\n    components: { Localized },\n    template: `\n      <Localized id=\"input\" :attrs=\"{ placeholder: true }\">\n        <input placeholder=\"John Doe\"/>\n      </Localized>`,\n  }))\n  .add('argument', () => ({\n    components: { Localized },\n    props: {\n      name: {\n        default: text('Name', 'World'),\n      },\n    },\n    template: `\n      <Localized id=\"greetings\" :_name=\"name\">\n        <h1>Hello, $name!</h1>\n      </Localized>`,\n  }))\n  .add('children', () => ({\n    components: { Localized },\n    template: `\n      <Localized id=\"children\">\n        <h1>Hello, <em style=\"color: red\" l10n=\"name\">World!</em></h1>\n      </Localized>`,\n  }))\n  .add('prop', () => ({\n    components: { Localized, SmallCaps },\n    template: `\n      <Localized id=\"prop\" :props=\"{text: true}\">\n        <SmallCaps />\n      </Localized>`,\n  }))\n  .add('void element', () => ({\n    components: { Localized, SmallCaps },\n    template: `\n      <Localized id=\"void\" :attrs=\"{alt: true}\">\n        <img alt=\"xxx\" />\n      </Localized>`,\n  }));\n",__ADDS_MAP__={"fluent--void-element":{startLoc:{col:7,line:51},endLoc:{col:4,line:57}},"fluent--prop":{startLoc:{col:7,line:44},endLoc:{col:4,line:50}},"fluent--children":{startLoc:{col:7,line:37},endLoc:{col:4,line:43}},"fluent--argument":{startLoc:{col:7,line:25},endLoc:{col:4,line:36}},"fluent--html-attribute":{startLoc:{col:7,line:18},endLoc:{col:4,line:24}},"fluent--simple-text":{startLoc:{col:7,line:11},endLoc:{col:4,line:17}}};Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Fluent",module).addDecorator(withStorySource(__STORY__,__ADDS_MAP__)).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.withKnobs).addDecorator(Object(_storybook_addon_contexts_vue__WEBPACK_IMPORTED_MODULE_2__.a)(_config_contexts__WEBPACK_IMPORTED_MODULE_4__.a)).add("simple text",function(){return{components:{Localized:_src_components_Localized_vue__WEBPACK_IMPORTED_MODULE_3__.a},template:'\n      <Localized id="title">\n        <h1>Hello, world!</h1>\n      </Localized>'}}).add("html attribute",function(){return{components:{Localized:_src_components_Localized_vue__WEBPACK_IMPORTED_MODULE_3__.a},template:'\n      <Localized id="input" :attrs="{ placeholder: true }">\n        <input placeholder="John Doe"/>\n      </Localized>'}}).add("argument",function(){return{components:{Localized:_src_components_Localized_vue__WEBPACK_IMPORTED_MODULE_3__.a},props:{name:{default:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("Name","World")}},template:'\n      <Localized id="greetings" :_name="name">\n        <h1>Hello, $name!</h1>\n      </Localized>'}}).add("children",function(){return{components:{Localized:_src_components_Localized_vue__WEBPACK_IMPORTED_MODULE_3__.a},template:'\n      <Localized id="children">\n        <h1>Hello, <em style="color: red" l10n="name">World!</em></h1>\n      </Localized>'}}).add("prop",function(){return{components:{Localized:_src_components_Localized_vue__WEBPACK_IMPORTED_MODULE_3__.a,SmallCaps:_SmallCaps__WEBPACK_IMPORTED_MODULE_5__.a},template:'\n      <Localized id="prop" :props="{text: true}">\n        <SmallCaps />\n      </Localized>'}}).add("void element",function(){return{components:{Localized:_src_components_Localized_vue__WEBPACK_IMPORTED_MODULE_3__.a,SmallCaps:_SmallCaps__WEBPACK_IMPORTED_MODULE_5__.a},template:'\n      <Localized id="void" :attrs="{alt: true}">\n        <img alt="xxx" />\n      </Localized>'}})}.call(this,__webpack_require__(597)(module))},389:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(917),classCallCheck=(__webpack_require__(379),__webpack_require__(380),__webpack_require__(918)),createClass=__webpack_require__(919),src=(__webpack_require__(258),__webpack_require__(904),__webpack_require__(1675),__webpack_require__(923)),cached_iterable_src=__webpack_require__(922),current=Symbol("current"),cache=new WeakMap,localization_VueLocalization=function(){function VueLocalization(bundles){Object(classCallCheck.a)(this,VueLocalization),this.setBundles(bundles)}return Object(createClass.a)(VueLocalization,[{key:"setBundles",value:function setBundles(bundles){this[current]=bundles,cache.has(bundles)||cache.set(bundles,cached_iterable_src.a.from(bundles))}},{key:"getBundle",value:function getBundle(id){return Object(src.a)(cache.get(this[current]),id)}}]),VueLocalization}(),l10n=Symbol("l10n"),components_LocalizationProvidervue_type_script_lang_js_={name:"LocalizationProvider",props:{bundles:{required:!0}},provide:function provide(){return this[l10n]=new localization_VueLocalization(this.bundles),Object(defineProperty.a)({},l10n,this[l10n])},watch:{bundles:function bundles(_bundles){this[l10n].setBundles(_bundles)}},render:function render(){return this.$scopedSlots.default({})}},componentNormalizer=__webpack_require__(388);__webpack_require__.d(__webpack_exports__,"b",function(){return l10n});var component=Object(componentNormalizer.a)(components_LocalizationProvidervue_type_script_lang_js_,void 0,void 0,!1,null,null,null);__webpack_exports__.a=component.exports},561:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={name:"SmallCaps",props:{text:{type:String,default:"♥"}},template:'<span style="font-variant: small-caps" title="test">{{ text }}</span>'}},924:function(module,__webpack_exports__,__webpack_require__){"use strict";var LocalizationProvider=__webpack_require__(389),compat=(__webpack_require__(379),__webpack_require__(380),__webpack_require__(258),__webpack_require__(1686),__webpack_require__(920)),fluent_langneg_compat=__webpack_require__(921),_marked=regeneratorRuntime.mark(generateBundles),MESSAGES_ALL={"fr-FR":'\ntitle = Bonjour, monde !\ninput =\n  .placeholder = Jean Dupont\ngreetings = Bonjour, { $name } !\nchildren = Bonjour, <em l10n="name">monde<em/> !\nprop =\n  .text = Bonjour, monde!\nvoid =\n  .alt = pas d\'image\n  ',"en-US":'\ntitle = Hello, world!\ninput =\n  .placeholder = John Doe\ngreetings = Hello, { $name }!\nchildren = Hello, <em l10n="name">world</em>!\nprop =\n  .text = Hello, world!\nvoid =\n  .alt = no image\n  '};function generateBundles(userLocales){var currentLocales,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,locale,bundle;return regeneratorRuntime.wrap(function generateBundles$(_context){for(;;)switch(_context.prev=_context.next){case 0:currentLocales=Object(fluent_langneg_compat.negotiateLanguages)(userLocales,["en-US","fr-FR"],{defaultLocale:"fr-FR"}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=4,_iterator=currentLocales[Symbol.iterator]();case 6:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=15;break}return locale=_step.value,(bundle=new compat.FluentBundle(locale)).addMessages(MESSAGES_ALL[locale]),_context.next=12,bundle;case 12:_iteratorNormalCompletion=!0,_context.next=6;break;case 15:_context.next=21;break;case 17:_context.prev=17,_context.t0=_context.catch(4),_didIteratorError=!0,_iteratorError=_context.t0;case 21:_context.prev=21,_context.prev=22,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 24:if(_context.prev=24,!_didIteratorError){_context.next=27;break}throw _iteratorError;case 27:return _context.finish(24);case 28:return _context.finish(21);case 29:case"end":return _context.stop()}},_marked,null,[[4,17,21,29],[22,,24,28]])}__webpack_require__.d(__webpack_exports__,"a",function(){return contexts});var contexts=[{icon:"globe",title:"Locales",components:[LocalizationProvider.a],params:[{name:"French",props:{bundles:generateBundles(["fr_FR"])}},{name:"English",props:{bundles:generateBundles(["en_GB"])},default:!0}]}]},925:function(module,exports,__webpack_require__){__webpack_require__(926),__webpack_require__(1042),module.exports=__webpack_require__(1043)}},[[925,1,2]]]);
//# sourceMappingURL=main.b4500fbcb96cc78a1d01.bundle.js.map